(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1487:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>ee});var r=s(5155),a=s(2115),i=s(9708),l=s(2085),o=s(2596),n=s(9688);function d(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.QP)((0,o.$)(t))}let c=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=a.forwardRef((e,t)=>{let{className:s,variant:a,size:l,asChild:o=!1,...n}=e,u=o?i.DX:"button";return(0,r.jsx)(u,{className:d(c({variant:a,size:l,className:s})),ref:t,...n})});u.displayName="Button";let m=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:d("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})});m.displayName="Card";let p=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:d("flex flex-col space-y-1.5 p-6",s),...a})});p.displayName="CardHeader";let f=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:d("text-2xl font-semibold leading-none tracking-tight",s),...a})});f.displayName="CardTitle",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:d("text-sm text-muted-foreground",s),...a})}).displayName="CardDescription";let h=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:d("p-6 pt-0",s),...a})});h.displayName="CardContent",a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:d("flex items-center p-6 pt-0",s),...a})}).displayName="CardFooter";let g=a.forwardRef((e,t)=>{let{className:s,type:a,...i}=e;return(0,r.jsx)("input",{type:a,className:d("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...i})});g.displayName="Input";var x=s(968);let y=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),b=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(x.b,{ref:t,className:d(y(),s),...a})});b.displayName=x.b.displayName;let w=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("textarea",{className:d("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...a})});w.displayName="Textarea";var v=s(6434),j=s(518);let N=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(v.bL,{ref:t,className:d("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...a,children:(0,r.jsx)(v.C1,{className:d("flex items-center justify-center text-current"),children:(0,r.jsx)(j.A,{className:"h-4 w-4"})})})});N.displayName=v.bL.displayName;let k=0,T=new Map,S=e=>{if(T.has(e))return;let t=setTimeout(()=>{T.delete(e),I({type:"REMOVE_TOAST",toastId:e})},1e6);T.set(e,t)},A=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?S(s):e.toasts.forEach(e=>{S(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},C=[],E={toasts:[]};function I(e){E=A(E,e),C.forEach(e=>{e(E)})}function _(e){let{...t}=e,s=(k=(k+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>I({type:"DISMISS_TOAST",toastId:s});return I({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||r()}}}),{id:s,dismiss:r,update:e=>I({type:"UPDATE_TOAST",toast:{...e,id:s}})}}var R=s(3054),O=s(7390),L=s(5599),D=s(4956),P=s(2491),F=s(9556),z=s(7381);let M=P.bL;P.YJ;let J=P.WT,U=a.forwardRef((e,t)=>{let{className:s,children:a,...i}=e;return(0,r.jsxs)(P.l9,{ref:t,className:d("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...i,children:[a,(0,r.jsx)(P.In,{asChild:!0,children:(0,r.jsx)(F.A,{className:"h-4 w-4 opacity-50"})})]})});U.displayName=P.l9.displayName;let G=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(P.PP,{ref:t,className:d("flex cursor-default items-center justify-center py-1",s),...a,children:(0,r.jsx)(z.A,{className:"h-4 w-4"})})});G.displayName=P.PP.displayName;let V=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(P.wn,{ref:t,className:d("flex cursor-default items-center justify-center py-1",s),...a,children:(0,r.jsx)(F.A,{className:"h-4 w-4"})})});V.displayName=P.wn.displayName;let B=a.forwardRef((e,t)=>{let{className:s,children:a,position:i="popper",...l}=e;return(0,r.jsx)(P.ZL,{children:(0,r.jsxs)(P.UC,{ref:t,className:d("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i,...l,children:[(0,r.jsx)(G,{}),(0,r.jsx)(P.LM,{className:d("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,r.jsx)(V,{})]})})});B.displayName=P.UC.displayName,a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(P.JU,{ref:t,className:d("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...a})}).displayName=P.JU.displayName;let H=a.forwardRef((e,t)=>{let{className:s,children:a,...i}=e;return(0,r.jsxs)(P.q7,{ref:t,className:d("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...i,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(P.VF,{children:(0,r.jsx)(j.A,{className:"h-4 w-4"})})}),(0,r.jsx)(P.p4,{children:a})]})});H.displayName=P.q7.displayName,a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(P.wv,{ref:t,className:d("-mx-1 my-1 h-px bg-muted",s),...a})}).displayName=P.wv.displayName;var K=s(5695),X=s(9737),W=s(7811),Y=s(9509);let q=new W.ij(Y.env.NEXT_PUBLIC_GOOGLE_GENAI_API_KEY||"AIzaSyA8Q9J5EBXWml6DhsbuKPlKmPKrzau8l0g").getGenerativeModel({model:"gemini-2.0-flash"});async function Q(e){try{let t=await q.generateContent("Analyze the following task description and suggest up to 4 relevant tags. \n    The tags should be short, descriptive, and relevant to the task's context, priority, and category.\n    Return only the tags as a comma-separated list, without any additional text or explanation and with the same language of the task description.\n    \n    Task description: \"".concat(e,'"\n    \n    Tags:'));return(await t.response).text().split(",").map(e=>e.trim().toLowerCase()).filter(e=>e.length>0).slice(0,5)}catch(t){return console.error("Error generating tag suggestions:",t),function(e){let t={meeting:["work","meeting"],presentation:["work","presentation"],report:["work","documentation"],email:["work","communication"],client:["work","client"],project:["work","project"],deadline:["work","urgent"],gym:["personal","health"],exercise:["personal","health"],shopping:["personal","errands"],doctor:["personal","health"],family:["personal","family"],vacation:["personal","leisure"],hobby:["personal","leisure"],homework:["study","assignment"],exam:["study","exam"],research:["study","research"],paper:["study","assignment"],class:["study","class"],lecture:["study","class"],study:["study","learning"],urgent:["urgent","high-priority"],asap:["urgent","high-priority"],important:["important","high-priority"],critical:["critical","high-priority"],today:["today","short-term"],tomorrow:["upcoming","short-term"],week:["upcoming","medium-term"],month:["planning","long-term"]},s=e.toLowerCase().split(/\s+/),r=new Set;s.forEach(e=>{let s=e.replace(/[.,!?]$/,"");t[s]&&t[s].forEach(e=>r.add(e))});for(let e=0;e<s.length-1;e++){let a=s.slice(e,e+2).join(" ");t[a]&&t[a].forEach(e=>r.add(e))}return e.length>100&&r.add("detailed"),(e.includes("http")||e.includes("www"))&&r.add("link"),e.includes("@")&&r.add("collaboration"),Array.from(r).slice(0,5)}(e)}}function $(){return Math.random().toString(36).substring(2,15)}function Z(e){let{selectedListId:t,setTasks:s,tasks:a,newTaskTitle:i,setNewTaskTitle:l,newTaskDescription:o,setNewTaskDescription:n,suggestedTags:d,setSuggestedTags:c,selectedTags:x,setSelectedTags:y,newTaskPriority:v,setNewTaskPriority:j,listId:N}=e,k=async e=>{let t=e.target.value;if(n(t),""!==t.trim())try{let e=await Q(t);c(e)}catch(e){console.error("Error getting tag suggestions:",e),c([])}else c([])},T=e=>{x.includes(e)?y(x.filter(t=>t!==e)):y([...x,e])};return(0,r.jsxs)(m,{className:"mb-4",children:[(0,r.jsx)(p,{children:(0,r.jsx)(f,{children:"Add New Task"})}),(0,r.jsx)(h,{children:(0,r.jsxs)("div",{className:"grid gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(b,{htmlFor:"title",children:"Title"}),(0,r.jsx)(g,{type:"text",id:"title",placeholder:"Task Title",value:i,onChange:e=>l(e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(b,{htmlFor:"description",children:"Description"}),(0,r.jsx)(w,{id:"description",placeholder:"Task Description",value:o,onChange:k})]}),d.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)(b,{children:"Suggested Tags"}),(0,r.jsx)("div",{className:"flex gap-2",children:d.map(e=>(0,r.jsxs)(u,{variant:x.includes(e)?"default":"secondary",size:"sm",onClick:()=>T(e),children:[(0,r.jsx)(R.A,{className:"mr-2 h-4 w-4"}),e]},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(b,{htmlFor:"priority",children:"Priority"}),(0,r.jsxs)(M,{onValueChange:e=>j(e),children:[(0,r.jsx)(U,{className:"w-full",children:(0,r.jsx)(J,{placeholder:"Select priority"})}),(0,r.jsxs)(B,{children:[(0,r.jsx)(H,{value:"Low",children:"Low"}),(0,r.jsx)(H,{value:"Medium",children:"Medium"}),(0,r.jsx)(H,{value:"High",children:"High"}),(0,r.jsx)(H,{value:"Critical",children:"Critical"})]})]})]}),(0,r.jsx)(u,{onClick:()=>{""!==i.trim()&&(s([...a,{id:$(),listId:t,title:i,description:o,completed:!1,priority:v,tags:x}]),l(""),n(""),c([]),y([]),j("Medium"),_({title:"Task Added!",description:"You've added \"".concat(i,'" to your task list.')}))},children:"Add Task"})]})})]})}function ee(){return(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)("div",{children:"Loading..."}),children:(0,r.jsx)(et,{})})}function et(){let[e,t]=(0,a.useState)(""),[s,i]=(0,a.useState)(""),[l,o]=(0,a.useState)([]),[n,d]=(0,a.useState)([]),[c,x]=(0,a.useState)([]),[y,w]=(0,a.useState)("Medium"),[v,j]=(0,a.useState)([{id:"all",name:"All",color:"#000000"},{id:"work",name:"Work",color:"#4DB6AC"},{id:"personal",name:"Personal",color:"#FF8A65"},{id:"school",name:"School",color:"#9CCC65"}]),[k,T]=(0,a.useState)("all"),S=(0,K.useSearchParams)();(0,K.useRouter)();let[A,C]=(0,a.useState)(""),[E,I]=(0,a.useState)(!1),[P,F]=(0,a.useState)(null);(0,a.useEffect)(()=>{let e=localStorage.getItem("taskflow-tasks");e&&x(JSON.parse(e))},[]),(0,a.useEffect)(()=>{localStorage.setItem("taskflow-tasks",JSON.stringify(c))},[c]),(0,a.useEffect)(()=>{let e=localStorage.getItem("listId"),t=S.get("list");if(t&&!E){let e=JSON.parse(atob(t));e=e.map(e=>({...e,id:$(),listId:localStorage.getItem("listId")||A}));let s=localStorage.getItem("taskflow-tasks"),r=s?JSON.parse(s):[];e.map(e=>e.title);let a=e.filter(e=>!r.some(t=>t.title===e.title));window.confirm("Do you want to add these tasks to your list? ")&&(x(e=>[...e,...a]),_({title:"Tasks Added!",description:"The shared tasks have been added to your list."})),I(!0)}else e||(e=(0,X.A)(),localStorage.setItem("listId",e));let s=e||(0,X.A)();C(s),T(s)},[S,A,E]);let z=e=>{x(c.filter(t=>t.id!==e))},M=(e,t)=>{x(c.map(s=>s.id===e?{...s,completed:t}:s))},J={Low:"bg-green-100 text-green-800",Medium:"bg-yellow-100 text-yellow-800",High:"bg-red-100 text-red-800",Critical:"bg-red-500 text-white"},U="all"===k?c:c.filter(e=>e.listId===k);return(0,r.jsxs)("div",{className:"container mx-auto p-4",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"TaskFlow"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,r.jsx)(Z,{selectedListId:k,setTasks:x,tasks:c,newTaskTitle:e,setNewTaskTitle:t,newTaskDescription:s,setNewTaskDescription:i,suggestedTags:l,setSuggestedTags:o,selectedTags:n,setSelectedTags:d,newTaskPriority:y,setNewTaskPriority:w,listId:A}),(0,r.jsxs)(m,{className:"col-span-1 md:col-span-2 lg:col-span-3",children:[(0,r.jsxs)(p,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(f,{children:"Task List"}),(0,r.jsxs)(u,{variant:"outline",size:"sm",onClick:()=>{let e=localStorage.getItem("taskflow-tasks");if(!e){_({title:"No tasks to share!",description:"Add some tasks to your list first.",variant:"destructive"});return}try{let t=JSON.parse(e).map(e=>{let{id:t,listId:s,...r}=e;return r}),s=btoa(JSON.stringify(t)),r="".concat(window.location.origin,"?list=").concat(s);F(r),navigator.clipboard.writeText(r).then(()=>{_({title:"List Shared!",description:"The list link has been copied to your clipboard."})}).catch(e=>{console.error("Could not copy text: ",e),_({title:"Error",description:"Failed to copy the list link to clipboard.",variant:"destructive"})})}catch(e){console.error("Error sharing list:",e),_({title:"Error",description:"Failed to share the list.",variant:"destructive"})}},children:[(0,r.jsx)(O.A,{className:"mr-2 h-4 w-4"}),"Share List"]})]}),(0,r.jsxs)(h,{children:[P&&(0,r.jsxs)("div",{className:"mb-4 p-4 bg-secondary rounded-md flex items-center justify-between",children:[(0,r.jsx)(g,{type:"text",value:P,readOnly:!0,className:"mr-2"}),(0,r.jsxs)(u,{variant:"secondary",size:"sm",onClick:()=>{P&&navigator.clipboard.writeText(P).then(()=>{_({title:"Link Copied!",description:"The shareable link has been copied to your clipboard."})}).catch(e=>{console.error("Could not copy text: ",e),_({title:"Error",description:"Failed to copy the link to clipboard.",variant:"destructive"})})},children:[(0,r.jsx)(L.A,{className:"mr-2 h-4 w-4"}),"Copy"]})]}),(0,r.jsx)("div",{className:"overflow-auto",children:U.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between py-2 border-b last:border-b-0",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(N,{id:e.id,checked:e.completed,onCheckedChange:t=>M(e.id,t)}),(0,r.jsx)(b,{htmlFor:e.id,className:"text-sm",children:e.title})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[e.tags.map((e,t)=>(0,r.jsxs)(u,{variant:"outline",size:"sm",children:[(0,r.jsx)(R.A,{className:"mr-2 h-4 w-4"}),e]},t)),(0,r.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-semibold ".concat(J[e.priority]),children:e.priority})]}),(0,r.jsx)(u,{variant:"destructive",size:"icon",onClick:()=>z(e.id),children:(0,r.jsx)(D.A,{className:"h-4 w-4"})})]},e.id))})]})]})]})]})}},6513:(e,t,s)=>{Promise.resolve().then(s.bind(s,1487))}},e=>{var t=t=>e(e.s=t);e.O(0,[710,441,684,358],()=>t(6513)),_N_E=e.O()}]);